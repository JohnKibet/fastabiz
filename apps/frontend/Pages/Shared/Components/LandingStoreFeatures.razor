@using MudBlazor
@using MudIcon = MudBlazor.Icons
@using MudVariant = MudBlazor.Variant

<section id="discover" class="section-content" style="background:#ffffff;">
    <MudContainer MaxWidth="MaxWidth.Large" Class="section-inner">

        <!-- Heading -->
        <div class="d-flex flex-column align-center mb-10">
            <MudText Typo="Typo.h4" Align="Align.Center" Style="font-weight:800; color:#111827;" Class="mb-2">
                Discover Stores
            </MudText>
            <MudText Typo="Typo.subtitle1" Align="Align.Center" Class="mud-text-secondary" Style="max-width:520px;">
                Explore small and medium businesses near you. Shop directly, support local,
                and discover unique products.
            </MudText>
        </div>

        <!-- Store Cards -->
        <MudGrid Spacing="5">
            @foreach (var store in _stores)
            {
                <MudItem xs="12" sm="6" md="4">
                    <MudCard Elevation="2" Class="rounded-xl store-card" Style="height:100%; overflow:hidden; transition: box-shadow 0.2s, transform 0.2s;">
                        <MudCardMedia Image="@store.Image" Height="180" />
                        <MudCardContent>
                            <MudText Typo="Typo.h6" Style="font-weight:700; color:#111827;">@store.Name</MudText>
                            <MudText Typo="Typo.body2" Class="mud-text-secondary mt-1" Style="line-height:1.6;">
                                @store.Description
                            </MudText>
                        </MudCardContent>
                        <MudCardActions Style="padding-top:0;">
                            <MudButton Href="@store.Href" Variant="MudVariant.Text" Color="Color.Primary"
                                       EndIcon="@MudIcon.Material.Filled.ArrowForward"
                                       Style="font-weight:700;">
                                Visit Store
                            </MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
            }
        </MudGrid>

        <!-- View All -->
        <div class="d-flex justify-center mt-12">
            <MudButton Href="/stores"
                       Variant="MudVariant.Filled"
                       Color="Color.Secondary"
                       Size="Size.Large"
                       EndIcon="@MudIcon.Material.Filled.ArrowForward"
                       Style="border-radius:10px; font-weight:700; padding:14px 36px;">
                View All Stores
            </MudButton>
        </div>

    </MudContainer>
</section>

<style>
    .store-card:hover {
        box-shadow: 0 10px 36px rgba(0,0,0,0.13) !important;
        transform: translateY(-4px);
    }
</style>

@code {
    private record StoreInfo(string Name, string Description, string Image, string Href);

    private readonly StoreInfo[] _stores =
    {
        new("Green Valley Farm",  "Fresh farm produce delivered to your door.",      "/Images/store-1.jpg", "/store/green-valley"),
        new("Urban Eats",         "Homemade meals and healthy snacks.",               "/Images/store-2.jpg", "/store/urban-eats"),
        new("Bakers Hub",         "Artisan bread, pastries, and custom cakes.",       "/Images/store-3.jpg", "/store/bakers-hub"),
    };
}
